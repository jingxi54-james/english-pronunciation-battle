# å¾®ä¿¡å°ç¨‹åºç‰ˆæœ¬éƒ¨ç½²æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

å·²ä¸ºä½ åˆ›å»ºäº†å®Œæ•´çš„å¾®ä¿¡å°ç¨‹åºç‰ˆæœ¬ï¼Œä½äº `wechat-miniapp/` ç›®å½•ã€‚è¿™æ˜¯ç½‘é¡µç‰ˆæœ¬çš„å®Œæ•´é€‚é…ï¼Œæ”¯æŒæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ã€‚

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡å·¥ä½œ

1. **ä¸‹è½½å¾®ä¿¡å¼€å‘è€…å·¥å…·**
   - è®¿é—®ï¼šhttps://developers.weixin.qq.com/miniprogram/dev/devtools/download.html
   - é€‰æ‹©é€‚åˆä½ æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬ä¸‹è½½å®‰è£…

2. **è·å–å°ç¨‹åº AppID**
   - ç™»å½• [å¾®ä¿¡å…¬ä¼—å¹³å°](https://mp.weixin.qq.com/)
   - åˆ›å»ºå°ç¨‹åºè´¦å·
   - è·å– AppIDï¼ˆå¦‚æœæ²¡æœ‰è´¦å·ï¼Œå¯ä»¥å…ˆç”¨æµ‹è¯•å·å¼€å‘ï¼‰

### ç¬¬äºŒæ­¥ï¼šå¯¼å…¥é¡¹ç›®

1. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·
2. ç‚¹å‡»"å¯¼å…¥é¡¹ç›®"
3. é€‰æ‹© `wechat-miniapp` æ–‡ä»¶å¤¹
4. è¾“å…¥ä½ çš„ AppID
5. ç‚¹å‡»"å¯¼å…¥"

### ç¬¬ä¸‰æ­¥ï¼šé…ç½® Supabase

ç¼–è¾‘ `wechat-miniapp/app.js`ï¼Œä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š

```javascript
initSupabase() {
  this.globalData.supabaseUrl = 'https://wmaxoenjqvdnwlramwvp.supabase.co';
  this.globalData.supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...';
}
```

ä½¿ç”¨ä½ çš„ Supabase é¡¹ç›® URL å’Œ API Keyã€‚

### ç¬¬å››æ­¥ï¼šæµ‹è¯•

1. åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ç‚¹å‡»"é¢„è§ˆ"
2. ç”¨å¾®ä¿¡æ‰«æäºŒç»´ç 
3. åœ¨æ‰‹æœºä¸Šæµ‹è¯•å°ç¨‹åºåŠŸèƒ½

## ğŸ“ é¡¹ç›®ç»“æ„è¯´æ˜

```
wechat-miniapp/
â”œâ”€â”€ app.json                    # å°ç¨‹åºå…¨å±€é…ç½®
â”œâ”€â”€ app.js                      # å°ç¨‹åºä¸»æ–‡ä»¶ï¼ˆSupabase åˆå§‹åŒ–ï¼‰
â”œâ”€â”€ app.wxss                    # å…¨å±€æ ·å¼ï¼ˆå¯é€‰ï¼‰
â”‚
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ login/                  # ç™»å½•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ login.wxml          # é¡µé¢ç»“æ„
â”‚   â”‚   â”œâ”€â”€ login.wxss          # é¡µé¢æ ·å¼
â”‚   â”‚   â””â”€â”€ login.js            # é¡µé¢é€»è¾‘
â”‚   â”‚
â”‚   â”œâ”€â”€ game/                   # æ¸¸æˆä¸»é¡µé¢
â”‚   â”‚   â”œâ”€â”€ game.wxml           # é¡µé¢ç»“æ„
â”‚   â”‚   â”œâ”€â”€ game.wxss           # é¡µé¢æ ·å¼
â”‚   â”‚   â””â”€â”€ game.js             # æ¸¸æˆé€»è¾‘ï¼ˆæ ¸å¿ƒï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ leaderboard/            # æ’è¡Œæ¦œé¡µé¢
â”‚   â”‚   â”œâ”€â”€ leaderboard.wxml
â”‚   â”‚   â”œâ”€â”€ leaderboard.wxss
â”‚   â”‚   â””â”€â”€ leaderboard.js
â”‚   â”‚
â”‚   â””â”€â”€ scores/                 # æˆç»©æ•°æ®åº“é¡µé¢
â”‚       â”œâ”€â”€ scores.wxml
â”‚       â”œâ”€â”€ scores.wxss
â”‚       â””â”€â”€ scores.js
â”‚
â””â”€â”€ utils/
    â”œâ”€â”€ vocabulary.js           # è¯æ±‡åº“ï¼ˆ1-12 å¹´çº§ï¼‰
    â””â”€â”€ boss-config.js          # BOSS é…ç½®ï¼ˆ10 ç§ BOSSï¼‰
```

## ğŸ”§ ä¸»è¦æ”¹åŠ¨è¯´æ˜

### 1. å½•éŸ³ç³»ç»Ÿ
**ç½‘é¡µç‰ˆæœ¬**ï¼š
```javascript
const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
const mediaRecorder = new MediaRecorder(stream);
```

**å°ç¨‹åºç‰ˆæœ¬**ï¼š
```javascript
const recordManager = wx.getRecordManager();
recordManager.start({ format: 'mp3' });
recordManager.stop();
```

### 2. æ–‡å­—è½¬è¯­éŸ³
**ç½‘é¡µç‰ˆæœ¬**ï¼š
```javascript
const utterance = new SpeechSynthesisUtterance(word);
speechSynthesis.speak(utterance);
```

**å°ç¨‹åºç‰ˆæœ¬**ï¼š
```javascript
wx.showToast({
  title: `å‘éŸ³: ${word}`,
  icon: 'none'
});
// å»ºè®®é›†æˆè…¾è®¯äº‘ TTS æœåŠ¡
```

### 3. æœ¬åœ°å­˜å‚¨
**ç½‘é¡µç‰ˆæœ¬**ï¼š
```javascript
localStorage.setItem('key', value);
const data = localStorage.getItem('key');
```

**å°ç¨‹åºç‰ˆæœ¬**ï¼š
```javascript
wx.setStorageSync('key', value);
const data = wx.getStorageSync('key');
```

### 4. æ•°æ®åº“æ“ä½œ
**ç½‘é¡µç‰ˆæœ¬**ï¼š
```javascript
const { data, error } = await supabaseClient
  .from('leaderboard')
  .insert([entry]);
```

**å°ç¨‹åºç‰ˆæœ¬**ï¼š
```javascript
const app = getApp();
const data = await app.supabaseRequest('POST', 'leaderboard', entry);
```

### 5. é¡µé¢å¯¼èˆª
**ç½‘é¡µç‰ˆæœ¬**ï¼š
```javascript
elements.gameContainer.style.display = 'none';
elements.loginPage.style.display = 'flex';
```

**å°ç¨‹åºç‰ˆæœ¬**ï¼š
```javascript
wx.navigateTo({
  url: '/pages/login/login'
});
```

## ğŸ® åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | ç½‘é¡µç‰ˆ | å°ç¨‹åºç‰ˆ | è¯´æ˜ |
|------|-------|---------|------|
| ç™»å½•ç³»ç»Ÿ | âœ… | âœ… | å®Œå…¨ç›¸åŒ |
| BOSS æˆ˜æ–— | âœ… | âœ… | å®Œå…¨ç›¸åŒ |
| å‘éŸ³å½•åˆ¶ | âœ… | âœ… | ä½¿ç”¨ä¸åŒ API |
| æ–‡å­—è½¬è¯­éŸ³ | âœ… | âš ï¸ | éœ€è¦ç¬¬ä¸‰æ–¹æœåŠ¡ |
| å‡†ç¡®ç‡è®¡ç®— | âœ… | âœ… | åŸºäºæ–‡ä»¶å¤§å° |
| æ’è¡Œæ¦œ | âœ… | âœ… | å®Œå…¨ç›¸åŒ |
| æˆç»©æ•°æ®åº“ | âœ… | âœ… | å®Œå…¨ç›¸åŒ |
| Supabase åŒæ­¥ | âœ… | âœ… | å®Œå…¨ç›¸åŒ |
| æœ¬åœ°å­˜å‚¨ | âœ… | âœ… | ä½¿ç”¨ä¸åŒ API |

## âš ï¸ å·²çŸ¥é™åˆ¶

1. **æ–‡å­—è½¬è¯­éŸ³**
   - å°ç¨‹åºæ²¡æœ‰åŸç”Ÿ TTS API
   - å½“å‰ä½¿ç”¨ Toast æç¤ºæ›¿ä»£
   - å»ºè®®é›†æˆè…¾è®¯äº‘ TTS æœåŠ¡

2. **è¯­éŸ³è¯†åˆ«**
   - å‡†ç¡®ç‡è®¡ç®—åŸºäºæ–‡ä»¶å¤§å°
   - å®é™…åº”ç”¨éœ€è¦é›†æˆè¯­éŸ³è¯†åˆ« API
   - å»ºè®®ä½¿ç”¨è…¾è®¯äº‘è¯­éŸ³è¯†åˆ«

3. **æƒé™**
   - éœ€è¦ç”¨æˆ·æˆäºˆéº¦å…‹é£æƒé™
   - é¦–æ¬¡ä½¿ç”¨ä¼šå¼¹å‡ºæƒé™è¯·æ±‚

4. **ç½‘ç»œ**
   - éœ€è¦ç½‘ç»œè¿æ¥åŒæ­¥æ•°æ®
   - ç¦»çº¿æ—¶ä½¿ç”¨æœ¬åœ°å­˜å‚¨

## ğŸš€ éƒ¨ç½²åˆ°å¾®ä¿¡å°ç¨‹åºå¹³å°

### 1. ä¸Šä¼ ä»£ç 
1. åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ç‚¹å‡»"ä¸Šä¼ "
2. è¾“å…¥ç‰ˆæœ¬å·å’Œå¤‡æ³¨
3. ç‚¹å‡»"ä¸Šä¼ "

### 2. æäº¤å®¡æ ¸
1. ç™»å½•å¾®ä¿¡å…¬ä¼—å¹³å°
2. è¿›å…¥"ç‰ˆæœ¬ç®¡ç†"
3. ç‚¹å‡»"æäº¤å®¡æ ¸"
4. å¡«å†™å®¡æ ¸ä¿¡æ¯
5. ç­‰å¾…å®¡æ ¸ï¼ˆé€šå¸¸ 1-7 å¤©ï¼‰

### 3. å‘å¸ƒä¸Šçº¿
å®¡æ ¸é€šè¿‡åï¼Œç‚¹å‡»"å‘å¸ƒ"å³å¯ä¸Šçº¿

## ğŸ“ é…ç½®æ–‡ä»¶è¯´æ˜

### app.json
```json
{
  "pages": ["pages/login/login", "pages/game/game", ...],
  "window": {
    "navigationBarBackgroundColor": "#667eea",
    "navigationBarTitleText": "è‹±è¯­å‘éŸ³å¤§ä½œæˆ˜"
  },
  "permission": {
    "scope.record": {
      "desc": "éœ€è¦ä½¿ç”¨éº¦å…‹é£è¿›è¡Œå‘éŸ³å½•åˆ¶"
    }
  }
}
```

### æƒé™é…ç½®
å°ç¨‹åºéœ€è¦ä»¥ä¸‹æƒé™ï¼š
- `scope.record`ï¼šéº¦å…‹é£æƒé™ï¼ˆå‘éŸ³å½•åˆ¶ï¼‰

## ğŸ” å®‰å…¨å»ºè®®

1. **API Key ç®¡ç†**
   - ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç  API Key
   - ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–é…ç½®æ–‡ä»¶
   - å®šæœŸè½®æ¢ API Key

2. **æ•°æ®éªŒè¯**
   - éªŒè¯ç”¨æˆ·è¾“å…¥
   - æ£€æŸ¥æ•°æ®å®Œæ•´æ€§
   - é˜²æ­¢ SQL æ³¨å…¥

3. **é”™è¯¯å¤„ç†**
   - æ·»åŠ å®Œå–„çš„é”™è¯¯å¤„ç†
   - è®°å½•é”™è¯¯æ—¥å¿—
   - æä¾›ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

1. **AppID æ˜¯å¦æ­£ç¡®**
   - ç¡®ä¿ AppID ä¸å°ç¨‹åºè´¦å·åŒ¹é…

2. **Supabase é…ç½®**
   - ç¡®ä¿ URL å’Œ API Key æ­£ç¡®
   - æ£€æŸ¥ç½‘ç»œè¿æ¥

3. **æƒé™è®¾ç½®**
   - ç¡®ä¿å·²æˆäºˆéº¦å…‹é£æƒé™
   - æ£€æŸ¥å°ç¨‹åºæƒé™é…ç½®

4. **å¼€å‘è€…å·¥å…·ç‰ˆæœ¬**
   - æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬
   - æ¸…é™¤ç¼“å­˜é‡æ–°ç¼–è¯‘

## ğŸ“ å­¦ä¹ èµ„æº

- [å¾®ä¿¡å°ç¨‹åºå®˜æ–¹æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [Supabase æ–‡æ¡£](https://supabase.com/docs)
- [å°ç¨‹åº API å‚è€ƒ](https://developers.weixin.qq.com/miniprogram/dev/api/)

## ğŸ“„ è®¸å¯è¯

MIT License

---

**æç¤º**ï¼šå°ç¨‹åºç‰ˆæœ¬ä¸ç½‘é¡µç‰ˆæœ¬åŠŸèƒ½å®Œå…¨ç›¸åŒï¼Œå¯ä»¥åŒæ—¶éƒ¨ç½²ä½¿ç”¨ã€‚ç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©ä½¿ç”¨ç½‘é¡µç‰ˆæœ¬æˆ–å°ç¨‹åºç‰ˆæœ¬ã€‚
